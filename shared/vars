#!/usr/bin/env bash

# Default Variables, when running from Git/Lab those are defined in GitLab
# GCP Generic
DF_ZONE='us-central1-c'
DF_REGION='us-central1'
DF_NETWORK='drls'

# GCP Cluster
DF_CLUSTER='development'
DF_GSA_NAME='gsa-priauth-service'
DF_KSA_NAME='k8s-priauth-service'
DF_KUBE_NAMESPACE='default'

DF_REPO="registry.gitlab.com/gcp-solutions/hcls/claims-modernization/pa-ref-impl"

get_service_file(){
  ENVIRONMENT=$1
  case "$ENVIRONMENT" in
    demo) echo "$SERVICE_ACCOUNT_FILE_DEMO"
       ;;
    test) echo "$SERVICE_ACCOUNT_FILE_TEST"
       ;;
    development) echo "$SERVICE_ACCOUNT_FILE_DEV"
      ;;
  esac
}

get_bucket(){
  ENVIRONMENT=$1
  case "$ENVIRONMENT" in
    demo) echo "${PROJECT_ID}-cql"
       ;;
    test) echo "${PROJECT_ID}-cql-test"
       ;;
    development) echo "${PROJECT_ID}-cql-dev"
      ;;
  esac
}

SERVICE_ACCOUNT_FILE=${SERVICE_ACCOUNT_FILE:-$(get_service_file "$ENVIRONMENT")}
export SERVICE_ACCOUNT_FILE


BUCKET_NAME=${BUCKET_NAME:-$(get_bucket "$ENVIRONMENT")}
export BUCKET_NAME
BUCKET="gs://$BUCKET_NAME"
export BUCKET


